<template>
  <view class="component-demo">
    <demo-block title="Âü∫Á°ÄÁî®Ê≥ï">
      <lk-notice-bar text="üéâ Lucky UI - È´òË¥®ÈáèÁöÑ UniApp UI ÁªÑ‰ª∂Â∫ìÔºåÊîØÊåÅÂ§öÁ´ØÈÄÇÈÖçÔºÅ" />
    </demo-block>

    <demo-block title="ÂèØÂÖ≥Èó≠">
      <lk-notice-bar
        v-if="showNotice"
        text="ËøôÊòØ‰∏ÄÊù°ÂèØ‰ª•ÂÖ≥Èó≠ÁöÑÈÄöÁü•Ê∂àÊÅØ"
        closeable
        @close="showNotice = false"
      />
      <lk-button v-else size="medium" @click="showNotice = true">ÈáçÊñ∞ÊòæÁ§∫</lk-button>
    </demo-block>

    <demo-block title="Ê®™ÂêëÊªöÂä®">
      <lk-notice-bar
        text="Á≥ªÁªüÂçáÁ∫ßÈÄöÁü•Ôºö‰ªäÊôö 22:00-23:00 Â∞ÜËøõË°åÁ≥ªÁªüÁª¥Êä§ÔºåËØ∑ÊèêÂâç‰øùÂ≠òÊï∞ÊçÆ„ÄÇÁª¥Êä§ÊúüÈó¥Â∞ÜÊó†Ê≥ïËÆøÈóÆÁ≥ªÁªüÔºåÁªôÊÇ®Â∏¶Êù•‰∏ç‰æøÊï¨ËØ∑Ë∞ÖËß£„ÄÇÊÑüË∞¢ÊÇ®ÁöÑÁêÜËß£‰∏éÊîØÊåÅÔºÅ"
        scrollable="horizontal"
        :speed="15"
      />
    </demo-block>

    <demo-block title="Á´ñÂêëÊªöÂä®">
      <lk-notice-bar
        scrollable="vertical"
        :messages="verticalMessages"
        :speed="3"
      />
    </demo-block>

    <demo-block title="Â∏¶Âè≥‰æßÊèíÊßΩ">
      <lk-notice-bar text="ÁÇπÂáªÂè≥‰æßÊü•ÁúãËØ¶ÊÉÖ">
        <template #left-icon>
          <lk-icon name="info-circle-fill" size="32" />
        </template>
        <template #right>
          <view class="link-text" @click.stop="handleDetail">ËØ¶ÊÉÖ ></view>
        </template>
      </lk-notice-bar>
      
      <lk-notice-bar 
        scrollable="vertical"
        :messages="verticalMessages"
        :speed="2"
        style="margin-top: 16rpx;"
      >
        <template #left-icon>
          <lk-icon name="bell-fill" size="32" />
        </template>
        <template #right-icon>
          <lk-icon name="chevron-right" size="28" @click.stop="handleMore" />
        </template>
      </lk-notice-bar>
    </demo-block>

    <demo-block title="Â∏¶ÂõæÊ†á">
      <lk-notice-bar text="Êñ∞ÂäüËÉΩ‰∏äÁ∫øÂï¶ÔºåÂø´Êù•‰ΩìÈ™åÂêßÔºÅ">
        <template #left-icon>
          <lk-icon name="megaphone-fill" size="32" />
        </template>
      </lk-notice-bar>
      <lk-notice-bar text="ÈáçË¶ÅÊ¥ªÂä®ÈÄöÁü•" style="margin-top: 16rpx;">
        <template #left-icon>
          <lk-icon name="bell-fill" size="32" />
        </template>
      </lk-notice-bar>
    </demo-block>

    <demo-block title="Ëá™ÂÆö‰πâÈ¢úËâ≤">
      <lk-notice-bar
        text="Ëá™ÂÆö‰πâÈ¢úËâ≤ÁöÑÈÄöÁü•Ê∂àÊÅØ"
        color="#ff6b6b"
        background="#ffe0e0"
      />
      <lk-notice-bar
        text="Ê∑±Ëâ≤‰∏ªÈ¢òÈÄöÁü•"
        color="#ffffff"
        background="#333333"
        style="margin-top: 16rpx;"
      />
    </demo-block>

    <demo-block title="ÂÆûÁî®Âú∫ÊôØ">
      <lk-notice-bar text="ÈôêÊó∂‰ºòÊÉ†ÔºöÂÖ®Âú∫ÂïÜÂìÅ8ÊäòÔºåÊ¥ªÂä®‰ªÖÈôê‰ªäÂ§©ÔºÅ" closeable>
        <template #left-icon>
          <lk-icon name="gift-fill" size="32" />
        </template>
      </lk-notice-bar>
      <lk-notice-bar text="ÊÇ®Êúâ3Êù°Êú™ËØªÊ∂àÊÅØ" closeable style="margin-top: 16rpx;" @click="handleClick">
        <template #left-icon>
          <lk-icon name="envelope-fill" size="32" />
        </template>
      </lk-notice-bar>
      <lk-notice-bar
        scrollable="horizontal"
        text="üî• Âèå11Â§ß‰øÉÈîÄÔºÅÂÖ®Âú∫5ÊäòËµ∑ÔºåÊª°199Âáè50ÔºåÊª°399Âáè100ÔºåÊõ¥ÊúâÁ•ûÁßòÂ§ßÁ§ºÁ≠â‰Ω†Êù•ÊãøÔºÅ"
        style="margin-top: 16rpx;"
        :speed="12"
      >
        <template #left-icon>
          <lk-icon name="fire" size="32" />
        </template>
      </lk-notice-bar>
    </demo-block>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import LkNoticeBar from '@/uni_modules/lucky-ui/components/lk-notice-bar/lk-notice-bar.vue';
import LkIcon from '@/uni_modules/lucky-ui/components/lk-icon/lk-icon.vue';
import LkButton from '@/uni_modules/lucky-ui/components/lk-button/lk-button.vue';
import DemoBlock from '@/uni_modules/lucky-ui/components/demo-block/demo-block.vue';

const showNotice = ref(true);

const verticalMessages = [
  'üì¢ Á≥ªÁªüÊ∂àÊÅØÔºöÊÇ®ÊúâÊñ∞ÁöÑËÆ¢ÂçïÂæÖÂ§ÑÁêÜ',
  'üéÅ Ê¥ªÂä®ÈÄöÁü•ÔºöÂèå11ÁãÇÊ¨¢ËäÇÂç≥Â∞ÜÂºÄÂßã',
  '‚ö†Ô∏è Ê∏©È¶®ÊèêÁ§∫ÔºöËØ∑ÂèäÊó∂Êõ¥Êñ∞‰∏™‰∫∫‰ø°ÊÅØ',
  '‚ú® Êñ∞ÂäüËÉΩÔºöÊîØÊåÅÂ§öÁßçÊîØ‰ªòÊñπÂºè'
];

const handleClick = () => {
  uni.showToast({ title: 'Êü•ÁúãÊ∂àÊÅØ', icon: 'none' });
};

const handleDetail = () => {
  uni.showToast({ title: 'Êü•ÁúãËØ¶ÊÉÖ', icon: 'none' });
};

const handleMore = () => {
  uni.showToast({ title: 'Êü•ÁúãÊõ¥Â§ö', icon: 'none' });
};
</script>

<style scoped lang="scss">
.component-demo {
  display: flex;
  flex-direction: column;
  gap: 24rpx;
}

.link-text {
  font-size: 24rpx;
  opacity: 0.8;
  cursor: pointer;
  &:hover {
    opacity: 1;
  }
}
</style>
