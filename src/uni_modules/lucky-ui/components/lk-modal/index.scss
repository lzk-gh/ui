@use '../../theme/src/mixins/bem' as *;

@include b(modal) {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  max-width: 90%;
  /* 外层仅负责定位与居中，不参与动画 transform，避免冲突 */

  @include e(panel) {
    background: var(--lk-color-bg-elevated, var(--lk-color-bg-container));
    color: var(--lk-color-text);
    border-radius: var(--lk-radius-lg);
    box-shadow: var(--lk-shadow-lg);
    /* 去掉外层细边框，内部无边框设计 */
    border: none;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  @include e(header) {
    padding: var(--lk-spacing-lg) var(--lk-spacing-lg) var(--lk-spacing-md);
    font-size: 32rpx;
    font-weight: 600;
    position: relative;
    /* 去掉分割线 */
    border-bottom: none;
  }

  @include e(title) {
    display: inline-block;
  }

  @include e(close) {
    position: absolute;
    right: var(--lk-spacing-sm);
    top: 50%;
    transform: translateY(-50%);
    color: var(--lk-color-text-secondary);
    padding: var(--lk-spacing-xxs);
    border-radius: var(--lk-radius-full);
    cursor: pointer;

    /* 更合适的触控区域和居中 */
    width: 44rpx;
    height: 44rpx;
    display: inline-flex;
    align-items: center;
    justify-content: center;

    &:active {
      background: var(--lk-color-bg-active);
    }
  }

  @include e(body) {
    padding: var(--lk-spacing-lg) var(--lk-spacing-lg);
    font-size: 28rpx;
    line-height: 1.6;
    flex: 1;
  }

  @include e(footer) {
    padding: var(--lk-spacing-md) var(--lk-spacing-lg) var(--lk-spacing-lg);
    display: flex;
    align-items: center;
    justify-content: flex-start;
    /* 去掉分割线 */
    border-top: none;

    /* 两个按钮左右占比并圆角样式 */
    & > .lk-modal__footer-btn {
      flex: 1;
      min-width: 0;
      display: flex; /* ensure consistent vertical centering */
      align-items: center;
      justify-content: center;
      width: 100%;
      border-radius: var(--lk-radius-lg);
    }

    /* 恢复使用 gap，简洁且适配现代浏览器 */
    gap: var(--lk-spacing-md);
  }
}
