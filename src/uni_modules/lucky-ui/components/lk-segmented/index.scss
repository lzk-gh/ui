/* F:\luckyone\ui\src\uni_modules\lucky-ui\components\lk-segmented\index.scss */
@use '../../theme/src/mixins/bem' as *;

@include b(segmented) {
  /* 变量 */
  --lk-seg-height   : auto;
  --lk-seg-radius   : var(--lk-radius-pill);
  --lk-seg-duration : var(--lk-transition-fast,260ms);
  --lk-seg-easing   : cubic-bezier(0.22,1,0.36,1);
  --lk-seg-inset    : 4rpx;
  --lk-seg-gutter   : 0rpx;

  --lk-seg-track-bg      : var(--lk-color-primary-bg-soft);
  --lk-seg-slider-bg     : var(--lk-color-primary);
  --lk-seg-text          : var(--lk-color-primary);
  --lk-seg-text-active   : var(--lk-color-text-inverse);
  --lk-seg-text-disabled : var(--lk-color-text-placeholder,rgba(0,0,0,.35));

  position: relative;
  display : inline-flex;
  align-items: stretch;
  background: var(--lk-seg-track-bg);
  padding   : var(--lk-seg-inset);
  border-radius: var(--lk-seg-radius);
  height: var(--lk-seg-height);
  box-sizing: border-box;
  user-select: none;
  -webkit-tap-highlight-color: transparent;

  @include m(block){ display:flex;width:100%; .lk-segmented__item{flex:1;} }

  @include m(sm){ font-size:22rpx; }
  @include m(md){ font-size:24rpx; }
  @include m(lg){ font-size:28rpx; }

  /* 滑块 */
  @include e(slider){
    position:absolute;
    top: var(--lk-seg-inset);
    bottom: var(--lk-seg-inset);
    left: var(--lk-seg-inset);       // 修掉右偏（基础是 inset）
    background: var(--lk-seg-slider-bg);
    border-radius: var(--lk-seg-radius);
    box-shadow: 0 2rpx 8rpx rgba(0,0,0,.06),0 1rpx 2rpx rgba(0,0,0,.04);
    z-index:1; pointer-events:none;
    will-change: width,transform;
  }

  /* item */
  @include e(item){
    position:relative; z-index:2;
    display:flex; align-items:center; justify-content:center;
    margin-left:var(--lk-seg-gutter);
    &:first-child{margin-left:0;}

    padding: var(--lk-spacing-xs) var(--lk-spacing-lg);
    border-radius: var(--lk-seg-radius);
    color: var(--lk-seg-text);
    font-weight:500;
    transition: color var(--lk-seg-duration) ease;
    white-space:nowrap;

    @include when(active){ color:var(--lk-seg-text-active); }
    @include when(disabled){ color:var(--lk-seg-text-disabled); opacity:.7; cursor:not-allowed; }

    &:active:not(.is-active):not(.is-disabled){ opacity:.75; }
  }

  @include e(label){ line-height:1; }
}
