@use '../../theme/src/mixins/bem' as *;

@include b(steps) {
  display: flex;

  @include m(vertical) {
    flex-direction: column;
    align-items: stretch;
  }

  @include m(horizontal) {
    flex-direction: row;
    align-items: flex-start;
  }
}

@include b(step) {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1;
  min-width: 140rpx;

  @include e(icon) {
    width: 52rpx;
    height: 52rpx;
    border-radius: var(--lk-radius-circle);
    background: var(--lk-color-fill-tertiary);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  @include e(dot) {
    width: 18rpx;
    height: 18rpx;
    background: var(--lk-color-primary);
    border-radius: var(--lk-radius-circle);
  }

  @include e(done) {
    position: absolute;
    color: var(--lk-color-text-inverse);
    background: var(--lk-color-primary);
    width: 100%;
    height: 100%;
    border-radius: var(--lk-radius-circle);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @include e(err) {
    position: absolute;
    color: var(--lk-color-text-inverse);
    background: var(--lk-color-primary-active);
    width: 100%;
    height: 100%;
    border-radius: var(--lk-radius-circle);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @include e(content) {
    margin-top: var(--lk-spacing-xs);
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 4rpx;
  }

  @include e(title) {
    font-size: var(--lk-font-size-xs);
    // 使用新的中性文字颜色变量
    color: var(--lk-text-primary);
  }

  @include e(sub) {
    font-size: 22rpx;
    // 使用新的中性文字颜色变量
    color: var(--lk-text-secondary);
  }

  @include e(line) {
    position: absolute;
    top: 26rpx;
    left: calc(50% + 26rpx);
    right: -50%;
    height: 4rpx;
    background: var(--lk-color-border-light);
    z-index: -1;
  }

  &:last-child {
    @include e(line) {
      display: none;
    }
  }

  @include when(finished) {
    @include e(line) {
      background: var(--lk-color-primary);
    }
  }
}
